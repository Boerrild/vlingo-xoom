language: java
dist: trusty
before_install:
- rm -rf $HOME/.m2/repository/io/vlingo
- cp .travis/settings.xml $HOME/.m2/settings.xml
- mvn deploy:help versions:help help:help
script:
- mvn install -PTravisCI
before_cache:
- rm -rf $HOME/.m2/repository/io/vlingo
cache:
  directories:
  - "$HOME/.m2/repository"
deploy:
  - provider: script
    script: mvn deploy -DskipTests
    skip_cleanup: true
    on:
      tags: true
  - provider: script
    script: mvn deploy -DskipTests
    skip_cleanup: true
    on:
      branch: master
  key:
    secure: Uq730TD2RhwTuuytaMUO4Ywk2/SaW4My2oyr0GohLDiXgzqeBvYObHjRw05anlXyzSbfnp3NlK2e8BI7Lb5fOUJ9XjuzEewNfxteN/Riqj+gabFJwQcIOoBTUMXQrhtlNymblwP6tLZjLCH5IFrLiWNCguJPgt48GdhRcONTrMqCVBCFDtFeYBZMVSBeY/rpVCi6Yv7YRA4naOOjCOP7I6C60OejcFoC0dQA4ePxWMie9gV4GfDUmVktuJ3wOFuKjxk7SQLP8Id/ydFNu/xqUVvhCI1AzuYtK6O/ezWOX72WDYj/WV1k8YMDRFXmUF69QXMigCbKN3siZ9rpqd8UbDgAwL94fW+G7tHiUpxuUKfUGMW0dYJO6K+Q1jkuhX33SsJoM4hPmdx+LLGF9TYYL+PZdxEORjWJ3xuuFAbAK5RfiEZINh4cO6cWbTkxmEif0mPLKABs1ScZj0jYtJ658jk5fcc1ZdQ+DlQYFFOiSXisMJj3t70K1ycEoWR5I/Sbq3Bhm+IssxcQVpySsj8/z4KVPTcY2vrVLaJjyvAOLOTDSkbZVJOeiWBB+8Gr/qK+yXT3yfTz8reM1Er8dHHFWpe+gSDQhxf+SdUdMZrxXix0SlCRJCb4ggsM/vUsL+eLOHtzJanCMgCOVaaG9KXvDFildpBh5ZSn0nq+qS1QW1c=
after_deploy:
- chmod u+x .travis/trigger_deps.sh
- if [ -n "$TRAVIS_TAG" ]; then .travis/trigger_deps.sh; fi
notifications:
  slack:
    secure: Nd3Mk/PkctV9/ORFi0fEA1voKXq2OHH5iFCW8m0bHc9d6ieMQbB3evTfykSJkKjGe/pOhz2MHzQQ9NyE992aO+4SxPhE3A7PEgDeMee4EnggQ41AgWm6IFL6qP+gO+juAKTniBVVVPHyE3dJ3cIZ8TKpkeKsh6Ux3mKE4hBQbbce8n+3O3rSQmWAJlGvNgcdsVZqohFgq/njQ7CHe3JJAvKSS1EIr8whB55/NFjdihMR1CZvJib9muzGenscjvRTnzOq/k9UDOtjzELHNr/hugIg/skbb50VDxstGV1/dQctOXBZ36o0PfwwQLjG1+58hnLAApmWtEfTwKnh8ldyuX5sbNUy2QNjl5HeJC/0ohjX4v4hvKUfNguk2qFjKza2c/2IPn+hthr9BYbucrIekrrkD7kdcCZh2ojtyiCEFhnEZYVgESdktXWH/seDoJN6xFRG++fRLtV0eXBIhaJdPlafOr2Q0SyddXFjYRF47teutMu6ad0fuzhfZxaBFz/aP3O+OCQaghZgv9UHc74ZxBAZ7Uv3pNfJP64l7nYrdOheMe9xNwQf3J5tTa28+vbe6jD6iy3VIoWjBC25SIQfF5ncDRKucAGfwurvdsS/JggzTGMbK3avs1l2La7BvVUmZFU1zebfbZAeZmrVmrj68gwkbxcNZ5Lz0OCLzOLzgl0=
